<div class="paintings-container">
  <div class="content-wrapper">
    <h1>Oil Paintings Collection</h1>
    <div *ngIf="loading" class="no-paintings">
      <p>Loading...</p>
    </div>

    <div class="paintings-grid" *ngIf="!loading">
      <div class="no-paintings" *ngIf="paintings.length === 0">
        <p>No paintings available</p>
      </div>
      <ng-container *ngFor="let painting of paintings; trackBy: trackByPaintingId">
        <div class="painting-card" *ngIf="painting.stockQuantity > 0" [appDominantColor]="getPrimaryImageUrl(painting)">
          <a [routerLink]="['/paintings', painting.id]" class="painting-link">
            <div class="painting-image">
              <img [src]="getPrimaryImageUrl(painting) || 'assets/images/placeholder-painting.jpg'"
                [alt]="painting.title" />
            </div>
            <div class="painting-info">
              <h3>{{ painting.title }}</h3>
              <p class="artist">by {{ painting.artistName }}</p>
              <p class="price">â‚¹{{ painting.price }}</p>
            </div>
          </a>
          <div class="painting-actions">
            <button (click)="toggleCart(painting)" class="btn" [class.btn-primary]="!cartItemsMap.has(painting.id)"
              [class.btn-danger]="cartItemsMap.has(painting.id)"
              [disabled]="!painting.isAvailable && !cartItemsMap.has(painting.id)">
              {{ cartItemsMap.has(painting.id) ? 'Remove from Cart' : (painting.isAvailable ? 'Add to Cart' : 'Sold
              Out') }}
            </button>
          </div>
        </div>
      </ng-container>
    </div>
  </div>
</div>